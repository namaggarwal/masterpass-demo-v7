<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
     >
<head th:include="layout/base :: headerFragment">
    <title id="pageTitle">Naman's Store - Standard checkout</title>
</head>
<body  th:include="layout/checkout :: checkoutFragment">
<div id="buyCont">
    <div class="buyCont text-center">
        <div class="text-bold">Buy With</div>
        <!-- Step 2 -->
        <img id="btnMasterpass" src="https://static.masterpass.com/dyn/img/btn/global/mp_chk_btn_147x034px.svg"/>
    </div>

    <script  th:inline="javascript" type="text/javascript">
        /*<![CDATA[*/

        //Step 3: Invoke lightbox
        function invokeLightBox(){

            masterpass.checkout({
                "checkoutId": [[${checkout_id}]],                                   // Merchant checkout identifier received during when merchant onboarded for masterpass
                "allowedCardTypes": ["master,amex,diners,discover,jcb,maestro,visa"],               // Card types accepted by merchant
                "amount": "789.53",                                                                 // Shopping cart subtotal
                "currency": "USD",                                                                  // Currency code for cart
                "shippingLocationProfile": "US,AU,BE",                                              // Shipping locations supported by merchant - configured in merchant portal
                "suppress3Ds": false,                                                               // Set true when 3DS not mandatory for the spcecific country
                "suppressShippingAddress": false,                                                   // Set true when cart items has digital goods only
                "cartId": [[${cart_id}]],                                   // Unique identifier for cart generated by merchant
                "callbackUrl": [[${callback_url}]]                                 // The URL to which the browser must redirect when checkout is complete (Top level domain should match with the one in merchant portal)
            });

        }

        function initializeMasterpass(){

            $("#btnMasterpass").on("click",invokeLightBox);


        }


        (function(){

            initializeMasterpass();

        })();
        /*]]>*/
    </script>
</div>
</body>
</html>